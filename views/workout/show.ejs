<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head'); %>
<%- include('../partials/nav'); %>

<body>
    <div>
        <h2><%= workout.day %></h2>
        <div class="right favorite">
            <button id="addFavorite">Add to Favorites</button>
            <form class="d-none" action="/workouts/<%= workout._id %>/favorite" method="POST">
                <input type="hidden" name="id" value="<%= workout._id %>">
                <input type="hidden" name="change" value="isFavorite">
                <input type="text" name="name" placeholder="Add a name to this workout">
                <input type="submit" value="Submit">
            </form>
        </div>
    </div>
    <div class="container">
        <div class="index">
            <% for (i = 0; i < workout.exercise.length; i++) { %>
                <% const exercise = workout.exercise[i] %>
                <div class="exercise">
                    <h3><%= exercise.movement.name %></h3>
                    <% if (exercise.movement.isWeighted) { %>
                        <p>Weight: <%= exercise.weight %></p>
                        <p>Sets: <%= exercise.sets %></p>
                        <p>Repetitions per Set: <%= exercise.reps %></p>
                    <% } %>
                    <% if (exercise.movement.isCardio) { %>
                        <p>Duration: <%= exercise.minutes %> minutes</p>
                        <p>Calories Burned: <%= exercise.caloriesBurned %></p>
                    <% } %>
                    <div class="form-check form-switch">
                        <input type="checkbox" name="complete" role="switch" class="form-check-input complete" id="<%= workout._id %>"
                        <%= workout.isComplete ? 'disabled checked' : '' %>>
                        <label for="switch" class="form-check-label">Complete</label>
                    </div>
                </div>
            <% } %>
        </div>
        <br>
        <br>
        <div class="progress" role="progressbar" aria-valuenow="0" aria-valuemax="100" aria-valuemin="0">
            <div class="progress-bar progress-bar-striped bg-success" <%= workout.isComplete ? 'style=width:100%': 'style=width:0%' %> ></div>
        </div>
        <% if (workout.isComplete) { %>
            <br>
            <div class="center">Congratulations, workout completed!</div>
        <% } %>
        <br>
        <br>
        <div class="center">
            <a href="/workouts" class="btn btn-outline-secondary mb-3">Back to Workouts</a>
        </div>
    </div>

    <%- include('../partials/footer'); %>

</body>

</html>