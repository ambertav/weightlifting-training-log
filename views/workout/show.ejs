<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head'); %>
<%- include('../partials/nav'); %>

<body>
    <div>
        <h2><%= workout.day %></h2>
        <div class="right favorite">
            <form action="/workouts/<%= workout._id %>/favorite" method="POST">
                <input type="hidden" name="id" value="<%= workout._id %>">
                <input type="hidden" name="change" value="isFavorite">
                <% if (workout.isFavorite) { %>
                    <input type="submit" value="Remove from favorites">
                <% } else { %>
                    <input type="submit" value="Add to favorites">
                <% } %>
                </form>
        </div>
    </div>
    <div class="container">
        <div class="index">
            <% for (i = 0; i < workout.exercise.length; i++) { %>
            <div class="exercise">
                <h3><%= workout.exercise[i].movement.name %></h3>
                <% if (workout.exercise[i].movement.isWeighted) { %>
                    <p>Weight: <%= workout.exercise[i].weight %></p>
                    <p>Sets: <%= workout.exercise[i].sets %></p>
                    <p>Repetitions per Set: <%= workout.exercise[i].reps %></p>
                <% } %>
                <% if (workout.exercise[i].movement.isCardio) { %>
                    <p>Duration: <%= workout.exercise[i].minutes %> minutes</p>
                    <p>Calories Burned: <%= workout.exercise[i].caloriesBurned %></p>
                <% } %>
                <div class="form-check form-switch">
                    <input type="checkbox" name="complete" role="switch" class="form-check-input complete" id="<%= workout._id %>"
                    <%= workout.isComplete ? 'disabled' : '' %> 
                    <%= workout.isComplete ? 'checked' : '' %> >
                    <label for="switch" class="form-check-label">Complete</label>
                </div>
            </div>
            <% } %>
        </div>
        <br>
        <br>
        <div class="progress" role="progressbar" aria-valuenow="0" aria-valuemax="100" aria-valuemin="0">
            <div class="progress-bar progress-bar-striped bg-success" <%= workout.isComplete ? 'style=width:100%': 'style=width:0%' %> ></div>
        </div>
        <% if (workout.isComplete) { %>
            <br>
            <div class="center">Congratulations, workout completed!</div>
        <% } %>
        <br>
        <br>
        <div class="center">
            <a href="/workouts" class="btn btn-outline-secondary mb-3">Back to Workouts</a>
        </div>


    </div>
    <%- include('../partials/footer'); %>

</body>

</html>